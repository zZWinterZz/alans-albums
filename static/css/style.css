/* Responsive lead text for homepage */
.home-lead-text {
    font-size: clamp(1rem, 2vw, 1.5rem) !important;
}
.navbar .nav-link{color:var(--text-primary);}
.navbar .nav-link:hover{color:var(--link-accent);}
.navbar .site-title{font-weight:600}
/* Page background and base text color: let schemes control the page background */
/* Fallbacks provided so the site remains readable if a scheme omits tokens */
body{
    background: var(--background, #ffffff) !important;
    color: var(--text-primary, #111111) !important;
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
}

/* Ensure the main site container and its inner container inherit the page background
   and allow surface elements (cards/pills) to use --card-surface as intended. */
.site-container,
.site-container .container,
main,
.content{
    background: transparent; /* keep content canvas transparent so body controls background */
}
/* Ensure scheme colors override Bootstrap utility classes (like .text-white) */
/* Bootstrap's .text-white uses !important; we replicate specificity and use !important
    so theme variables control the visible colors inside our header and content. */
.nav-surface .nav-link,
.nav-left .nav-link,
.nav-right .nav-link,
.navbar .nav-link,
.nav-right .dropdown-toggle,
.cart-icon,
.nav-surface,
.site-container,
.site-container a{
    color: var(--text-primary) !important;
}
.nav-surface .nav-link:hover,
.navbar .nav-link:hover,
.site-container a:hover{
    color: var(--link-accent) !important;
}
.btn-outline-light{border-color:rgba(255,255,255,0.6);color:white}
.btn-outline-light:hover{color:var(--accent)}

/* Nav row (flex-based) and centered logo */
.navbar{position:fixed;top:0;left:0;right:0;padding-top:0.25rem;padding-bottom:0.25rem;margin-top:15px;z-index:1100}

/* Hero section styles (site homepage) */

.hero {
    background-size: contain !important;
    background-repeat: no-repeat !important;
    background-position: center !important;
    width: 100vw;
    aspect-ratio: 16/7.5;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    left: 50%;
    transform: translateX(-50%);
    margin: 0;
    padding: 0;
    overflow-x: hidden;
    z-index: 1;
}

.hero::before{
    content:"";
    position:absolute;
    inset:0;
    background:linear-gradient(rgba(0,0,0,0.25), rgba(0,0,0,0.25));
    z-index:0;
}
/* Utility: allow long emails/phones to wrap inside cards */
.break-word{overflow-wrap:anywhere;word-break:break-word}
.hero .hero-content{
    position: relative;
    z-index: 1;
    text-align: center;
    margin-left: auto;
    margin-right: auto;
}


/* Logo sizing and crop */
.logo-link{display:inline-block;width:112px;height:112px;overflow:hidden;border-radius:999px;border:4px solid rgba(255,255,255,0.14);background:var(--background);box-sizing:content-box;position:relative}
.logo-img{width:100%;height:100%;object-fit:cover;object-position:50% 22%;display:block}

/* Mini-nav spacing */
.left-mini-nav .nav-link, .right-mini-nav .nav-link{padding-left:.5rem;padding-right:.5rem}

/* Mobile collapsed menu visual */
.bg-contrast{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.04)}

/* Responsive logo sizes */
@media (max-width: 991.98px){
    .logo-link{margin-top:-25px}
    
}

@media (max-width: 767.98px){
    .logo-link{margin-top:-31px}
    
}

/* Flex-based nav row */
.nav-row{display:flex;align-items:center;justify-content:space-between}
.nav-left,.nav-right{flex:1}
.nav-center{flex:0 0 auto;text-align:center}

/* ensure left/right mini-navs render horizontally */
.nav-left .navbar-nav{flex-direction:row;align-items:center}
.nav-left .navbar-nav .nav-item{margin-right:.5rem}
/* right-side auth links */
.nav-right{display:flex;align-items:center;justify-content:flex-end;position:relative}
.nav-right .navbar-nav{flex-direction:row;align-items:center}
.nav-right .navbar-nav .nav-item{margin-left:.4rem}

/* Nav surface (pill) */

.nav-surface{background:var(--card-surface);padding:4px 30px;border-radius:999px;display:inline-flex;align-items:center;gap:34px;box-shadow:0 6px 18px rgba(0,0,0,0.08);position:relative;min-width:440px}

/* Small-screen navbar spacing: keep side padding internal (nav-surface)
   and keep bottom spacing external on the navbar so the centered logo
   doesn't overlap navigation items. User requested less side padding and
   more bottom spacing. */
@media (max-width: 767.98px){
    /* remove left/right padding from the fixed navbar itself */
    /* keep nav-surface as the internal padded pill; further reduce horizontal
       padding so it fits better on narrow screens */
    .nav-surface{
        padding-left: 6px;
        padding-right: 6px;
        gap: 40px;
        min-width: unset; /* allow it to shrink rather than forcing overflow */
    }

    /* ensure the site content still accounts for the fixed nav height.
       Add top padding to the body so the fixed navbar doesn't overlap
       page content on small screens. */
    body{padding-top:3rem}
    .site-container{padding-top:3.75rem}

    /* Reduce spacing between left-side nav items (Store / Contact) */
    .nav-left .navbar-nav .nav-item{
        margin-right: .2rem !important; /* was .5rem */
    }

    /* Increase gap between basket and user dropdown on the right so the
       centered logo appears visually centered between left and right groups. */
    .nav-right > div:first-child{
        margin-right: 1.3rem !important;
        margin-left: .2rem /* increases gap after cart */
    }
}

/* Make room for the logo overlap */
.site-container{padding-top:3.75rem}

/* place logo absolutely so it visually overlaps but doesn't increase nav height */
.nav-center{position:relative}
.nav-center .logo-link{position:absolute;left:50%;transform:translateX(-50%);top:-30px}

@media (max-width: 991.98px){
    .nav-center .logo-link{top:-24px}
}

@media (max-width: 767.98px){
    .nav-center .logo-link{top:-18px}
    .dropdown-toggle{margin-right: 10px;}
}

/* On small screens show only the user icon for the account dropdown */
@media (max-width: 767.98px){
    .account-label{display:none}
    .dropdown-toggle .fa-icon{margin-right:0}
    .dropdown-toggle{padding-left:8px;padding-right:8px}
}

/* Note: keep nav-surface min-width consistent across sizes so it doesn't shrink */

/* Ensure dropdowns inside the right nav align to the right edge */
.nav-right .dropdown-menu{right:0;left:auto;transform-origin:top right;z-index:3000}
/* Use theme variables for dropdown background and items */
.nav-right .dropdown-menu,
.dropdown-menu{
    background: var(--background) !important;
    color: var(--text-primary) !important;
    border: 1px solid rgba(0,0,0,0.06);
}
.dropdown-menu .dropdown-item{color:var(--text-primary) !important}
.dropdown-menu .dropdown-item:hover,
.dropdown-menu .dropdown-item:focus{
    background: color-mix(in srgb, var(--link-accent) 18%, transparent) !important;
    color:var(--text-primary) !important;
}

/* Account dropdown will use the shared .button-primary utility for styling */

/* prevent nav links wrapping inside the pill */
.nav-surface .nav-left .nav-link,
.nav-surface .nav-right .nav-link { white-space:nowrap }

/* Keep theme and buttons styling */
.nav-content .nav-link{color:var(--text-primary);}
.nav-content .nav-link:hover{color:var(--link-accent)}
.nav-surface .navbar-toggler{border-color:rgba(255,255,255,0.08)}
.nav-surface .btn-light{background:white;color:var(--link-accent)}

/* cart icon next to user */
.cart-icon svg{display:block;width:22px;height:22px}
.cart-icon{display:inline-flex;align-items:center;justify-content:center;padding:6px;border-radius:6px}
.cart-icon:hover{background:rgba(255,255,255,0.06);text-decoration:none}



/* Debug: viewport center guide lines (vertical + horizontal) */
/* Toggle by adding/removing the `debug-center-guides` class on <body> */
body.debug-center-guides::before,
body.debug-center-guides::after{
    content:"";
    position:fixed;
    left:50vw;
    top:0;
    transform:translateX(-50%);
    pointer-events:none;
    z-index:99999;
}
/* vertical line */
body.debug-center-guides::before{
    width:1px;
    height:100vh;
    background:rgba(255,0,0,0.15);
}
/* horizontal line - placed via a rotated pseudo-element */
body.debug-center-guides::after{
    width:100vw;
    height:1px;
    top:50vh;
    left:0;
    transform:none;
    background:rgba(255,0,0,0.15);
}
/* small center dot */
body.debug-center-guides .center-dot{
    position:fixed;
    left:50vw;
    top:50vh;
    transform:translate(-50%,-50%);
    width:8px;
    height:8px;
    background:rgba(255,0,0,0.25);
    border-radius:50%;
    pointer-events:none;
    z-index:100000;
}

/* Font Awesome icon sizing helpers */
.fa-icon{font-size:18px;line-height:1;vertical-align:middle}
.cart-icon .fa-icon{font-size:20px}

/* Form controls inside cards should match the card surface and use theme tokens */
.card .form-control,
.card input[type="text"],
.card input[type="password"],
.card input[type="email"],
.card select.form-control,
.card textarea.form-control{
    background-color: var(--card-surface, #fff) !important;
    background-image: none !important;
    background-clip: padding-box !important;
    -webkit-appearance: none !important;
    appearance: none !important;
    color: var(--text-primary, #111) !important;
    border: 1px solid var(--text-primary, rgba(0,0,0,0.08)) !important;
    box-shadow: none !important;
    border-radius: .6rem !important; /* rounded inputs */
    padding: .5rem .75rem !important;
}

/* Ensure selects inside cards inherit theme colors even when the widget
   isn't rendered with the .form-control class (some Django widgets omit it) */
.card select{
    background-color: var(--card-surface, #fff) !important;
    color: var(--text-primary, #111) !important;
    border: 1px solid var(--text-primary, rgba(0,0,0,0.08)) !important;
    padding: .45rem .7rem !important;
    border-radius: .6rem !important;
    -webkit-appearance: none !important;
    appearance: none !important;
}
.card select option{
    color: var(--text-primary, #111) !important;
}

/* Ensure the entire card surface follows the active color scheme so cards
   (including manage landing/search cards) match themed surfaces. */
.card{
    background: var(--card-surface, #fff) !important;
    color: var(--text-primary) !important;
    border: 1px solid rgba(0,0,0,0.06) !important;
    border-radius: .8rem !important;
    box-shadow: 0 6px 18px rgba(0,0,0,0.06);
}

.card .card-body{background: transparent !important;}

/* If a themed primary-style button is placed next to the input, ensure it
   visually matches the card surface and doesn't appear as a separate white
   block. Small adjustments for input-group usage. */
.input-group .button-primary{
    margin-left: .5rem;
    border-radius: .6rem !important;
    padding-left: .65rem !important;
    padding-right: .65rem !important;
}

/* Make list-group items inside cards follow the card surface and text colors */
.card .list-group-item{
    background: transparent !important;
    color: var(--text-primary) !important;
    border: none !important;
}
.card .list-group-item:hover{
    background: color-mix(in srgb, var(--link-accent) 12%, transparent) !important;
}

/* Labels inside cards should match text color */
.card .form-label,
.card label{color:var(--text-primary) !important}

/* Autofill overrides (Chrome) - force background and text color to match scheme */
.card input:-webkit-autofill,
.card input:-webkit-autofill:focus,
.card input:-webkit-autofill:hover{
    -webkit-text-fill-color: var(--text-primary, #111) !important;
    box-shadow: 0 0 0px 1000px var(--card-surface, #fff) inset !important;
}

.card .form-control:focus,
.card input:focus,
.card textarea:focus,
.card select:focus{
    border-color: var(--link-accent) !important;
    box-shadow: 0 0 0 0.15rem color-mix(in srgb, var(--link-accent) 20%, transparent) !important;
    outline: none !important;
}

/* Slightly dim placeholder text to match muted tokens if available */
.card ::placeholder{color:var(--text-muted, rgba(0,0,0,0.45))}

/* Themed button utility (.button-primary) is used instead of a specific .card .btn-primary rule */

/* Reusable primary button utility that follows the active theme.
   Apply `.button-primary` to any <button> or <a> to get the themed primary style. */
.button-primary{
    background: var(--background) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--text-primary) !important;
    padding: .45rem .85rem !important;
    border-radius: .6rem !important;
    display: inline-flex !important;
    align-items: center !important;
    justify-content: center !important;
    text-decoration: none !important;
    transition: background .12s ease, color .12s ease, border-color .12s ease, box-shadow .12s ease;
}
.button-primary:hover,
.button-primary:focus{
    background: var(--text-primary) !important;
    color: var(--background) !important;
    border-color: var(--background) !important;
    text-decoration: none !important;
}

/* Utility classes to map markup to theme tokens used in templates */
.bg-surface {
    background: var(--card-surface) !important;
    color: var(--text-primary) !important;
}
.text-primary {
    color: var(--text-primary) !important;
}
.list-group-item.bg-surface {
    background: var(--card-surface) !important;
    color: var(--text-primary) !important;
    border: 1px solid rgba(255,255,255,0.04) !important;
}

/* Discogs/search result card styling that follows scheme tokens */
.search-card{
    background: var(--card-surface) !important;
    color: var(--text-primary) !important;
    border: 1px solid var(--border, rgba(0,0,0,0.06));
}
.search-thumb{height:200px;object-fit:cover;object-position:center top}
.search-meta{color:var(--text-primary) !important}

/* Highlight marker inserted for manual cleanup of Discogs notes */
.remove-highlight{
    background: color-mix(in srgb, var(--link-accent) 30%, transparent);
    padding: 0.05rem 0.35rem;
    border-radius: 0.35rem;
    color: var(--text-primary) !important;
    font-weight: 600;
}

/* Full-screen image viewer styles */
.image-viewer{position:fixed;inset:0;z-index:12000;display:flex;align-items:center;justify-content:center;pointer-events:none}
.image-viewer .iv-backdrop{position:fixed;inset:0;background:rgba(0,0,0,0.75);pointer-events:auto}
.image-viewer .iv-inner{position:relative;max-width:100vw;pointer-events:auto;display:flex;align-items:stretch;justify-content:center;padding:8px 6px;height:100vh;box-sizing:border-box}
.image-viewer .iv-stage{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:flex-start;width:100%;height:100%}
.image-viewer .iv-img-wrap{
    position:relative;
    width:100%;
    max-width: calc(100vw - 40px);
    /* allow the wrapper to use remaining vertical space inside iv-stage */
    flex: 1 1 auto;
    min-height: 40vh;
    display:flex; /* allow centering via flex */
    align-items:center;
    justify-content:center;
    overflow:hidden;
    box-sizing:border-box;
}
.image-viewer .iv-img{
    /* Image should scale to fill the wrapper while preserving aspect ratio */
    position:relative;
    display:block;
    margin:0 auto;
    width:auto; height:auto;
    max-width:90vw;
    /* Prefer filling the wrapper height exactly so the image uses available vertical space */
    height:100%;
    max-height:none;
    object-fit:contain;
    border-radius:6px;
    box-shadow:0 12px 40px rgba(0,0,0,0.6);
    background:var(--card-surface);
}

/* temporary reset animation class used when snapping back to center */
.image-viewer .iv-img.iv-resetting{ transition: transform .22s cubic-bezier(.2,.9,.2,1) !important; }

    /* keep will-change for smoother animations */
    .image-viewer .iv-img{ will-change: transform; }
.image-viewer .iv-prev,.image-viewer .iv-next,.image-viewer .iv-close,.image-viewer .iv-zoom-toggle{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--text-primary);padding:.35rem .6rem;border-radius:.5rem}
.image-viewer .iv-prev,.image-viewer .iv-next{font-size:1.4rem}
.image-viewer.d-none{display:none}

/* position close button at the top-right of the viewer inner area */
.image-viewer .iv-inner .iv-close{position:absolute;right:18px;top:18px;z-index:13001}

/* ensure controls are visible and not clipped */
.image-viewer .iv-controls{z-index:13000;flex:0 0 auto;margin-top:12px}

/* When zoomed, make cursor indicate draggable area */
.image-viewer .iv-img-wrap.zoom-active{cursor:grab}
.image-viewer .iv-img-wrap.zoom-active:active{cursor:grabbing}

/* When zoomed, make cursor indicate draggable area */
.image-viewer .iv-img-wrap.zoom-active{cursor:grab}
.image-viewer .iv-img-wrap.zoom-active:active{cursor:grabbing}







